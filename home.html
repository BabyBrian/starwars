<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Star Wars Quote</title>
    <script src="react.js"></script>
    <script src="react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <link href="style.css" rel="stylesheet">
  </head>
  <body>

    <div class="header">
      <img src="images/starwars.jpg"  />
    </div>
    
    
          <p> Choose your favorite character </p>
  
    <table>
   <tr>
       <td>
          <div >
            <img class="imagess" height = "300px" src="images/leia.jpg"/>
          </div>
          <div>
            <button class="button" id="leia">Leia</button>
          </div>
	   </td>
       <td>
          <div >
            <img class="imagess" height = "300px" src="images/vador.jpg"/>
          </div>
          <div>
            <button class="button" id="darthvader">Darth Vader</button>
        </div>
	   </td>
       <td>
	    <div >
          <img class="imagess" height = "300px"  src="images/yoda.jpg"/>
        </div>
        <div>
          <button class="button" id="yoda">Yoda</button>
      </div>
	   </td>
   </tr>
   <tr>
       <td>
	    <div >
          <img class="imagess" height = "300px"  src="images/yoda.jpg"/>
        </div>
        <div>
          <button class="button" id="yoda">Yoda</button>
      </div>
	   </td>
       <td>
	    <div >
        <img class="imagess" height = "300px" src="images/pal.jpg"/>
      </div>
      <div>
        <button class="button" id="palpatine">Palpatine</button>
    </div>
	   </td>
       <td>
	   <div >
          <img class="imagess" height = "300px" src="images/obi.jpg"/>
        </div>
        <div >
          <button class="button" id="obiwan">Obi Wan</button>
      </div>
	   </td>
   </tr>
   <tr>
      <td>
	    <div >
      <img class="imagess" height = "300px" src="images/doku.jpg"/>
    </div>
    <div >
      <button class="button" id="dooku">Dooku</button>
  </div>
	   </td>
       <td>
	   <div >
      <img class="imagess" height = "300px" src="images/qui.jpg"/>
    </div>
    <div >
      <button class="button" id="qui1">Quigon-jhin</button>
  </div>
	   </td>
	</tr>
</table>
	
<div class="container">
<h3 id="qcontainer"></h3>
      <h3 id="acontainer" ></h3>
      <button  id="random">Error</button>

    </div>

   <script type="text/babel">
   
   var quotes = [{
      'author': '- Yoda',
      'quote': 'When 900 years old, you reach… Look as good, you will not.'
    }, {
      'author': '- Senator palpatine',
      'quote': 'The Dark Side of the Force is the pathway to many abilities some consider to be.. Unnatural.'
    }, {
      'author': '- Count Dooku',
      'quote': 'I sense great fear in you, Skywalker. You have hate… you have anger… but you don’t use them.'
    }, {
      'author': '- Darth vader',
      'quote': 'Luke, you can destroy the Emperor. He has foreseen this. It is your destiny. Join me, and together we can rule the galaxy as father and son.'
    }, {
      'author': '- Princess leila',
      'quote': 'Aren\'t you a little short for a storm trooper?'
    }, {
      'author': '- Yoda',
      'quote': 'Mmm. Lost a planet, Master Obi-Wan has. How embarrassing.'
    }, {
      'author': '- Qui-Gon Jinn',
      'quote': 'Your focus determines your reality'
    }, {
      'author': '- Yoda',
      'quote': 'Do. Or do not. There is no try.'
    }, {
      'author': '- Obi-Wan-Kenobi',
      'quote': 'In my experience there is no such thing as luck.'
    }, {
      'author': '- Yoda',
      'quote': 'If once you start down the dark side, forever will it dominate your destiney, consume you it will, as it did Obi-Wan\'s apprentice'
    }, {
      'author': '- Darth Vader',
      'quote': 'The Force is strong with this one.'
    }];

	//pour generer de maniere aleatoire
   function getrandquote()
{
  var randquote = Math.floor((Math.random() * quotes.length) + 1);
  ReactDOM.render(<h2>{quotes[randquote].quote}</h2>, document.getElementById('qcontainer'));
  ReactDOM.render(<h2>{quotes[randquote].author}</h2>, document.getElementById('acontainer'));
}

//Selectionne la citation
function GetQuote(author) 
{
var rnd = Math.floor((Math.random() * 11));
var end = 0;
	while(!end)
		{
			if(quotes[rnd].author.indexOf(author)>-1)
			{
				end = 1;
				console.log(quotes[rnd].author);
			}
			else
			{
				rnd = Math.floor((Math.random() * 11));
			}
		}
		console.log(quotes[rnd].quote);
		ReactDOM.render(<h2>{quotes[rnd].quote}</h2>, document.getElementById('qcontainer'));
		ReactDOM.render(<h2>{quotes[rnd].author}</h2>, document.getElementById('acontainer'));}
		
		//gere l'affichage lors des click
		
		//cas aleatoire
	var Random = React.createClass( {
      getInitialState: function() {return {pressed: false}; },
      handleClick: function(event) { getrandquote(); },
      render: function() { return (<p onClick={this.handleClick}>Random quote</p>);}});
	  
	  //Cas click sur image
	var Yoda = React.createClass( {
      getInitialState: function() {return {pressed: false}; },
      handleClick: function(event) { GetQuote("- Yoda"); },
      render: function() { return (<h4 onClick={this.handleClick}>Yoda</h4>);}});
    var Obiwan = React.createClass( {
      getInitialState: function() {return {pressed: false}; },
      handleClick: function(event) { GetQuote("- Obi-Wan-Kenobi"); },
      render: function() { return (<h4 onClick={this.handleClick}>Obi-Wan</h4>);}});
    var Darthvader = React.createClass( {
      getInitialState: function() {return {pressed: false}; },
      handleClick: function(event) { GetQuote("- Darth Vader"); },
      render: function() { return (<h4 onClick={this.handleClick}>Darth Vader</h4>);}});
    var Leia = React.createClass( {
      getInitialState: function() {return {pressed: false}; },
      handleClick: function(event) { GetQuote("- Princess leila"); },
      render: function() { return (<h4 onClick={this.handleClick}>Leia</h4>);}});
    var Palpatine = React.createClass( {
      getInitialState: function() {return {pressed: false}; },
      handleClick: function(event) { GetQuote("- Senator palpatine"); },
      render: function() { return (<h4 onClick={this.handleClick}>Palpatine</h4>);}});
    var Dooku = React.createClass( {
      getInitialState: function() {return {pressed: false}; },
      handleClick: function(event) { GetQuote("- Count Dooku"); },
      render: function() { return (<h4 onClick={this.handleClick}>Count Dooku</h4>);}});
    var Qui = React.createClass( {
      getInitialState: function() {return {pressed: false}; },
      handleClick: function(event) { GetQuote("- Qui-Gon Jinn"); },
      render: function() { return (<h4 onClick={this.handleClick}>Qui-Gon Jinn</h4>);}});
	  
	  //Assigne la precedente variable de gauche et l'id du bouton concerner dans le DOM
      ReactDOM.render(<Random />, document.getElementById('random'));
      ReactDOM.render(<Yoda />, document.getElementById('yoda'));
      ReactDOM.render(<Obiwan />, document.getElementById('obiwan'));
      ReactDOM.render(<Leia />, document.getElementById('leia'));
      ReactDOM.render(<Darthvader />, document.getElementById('darthvader'));
      ReactDOM.render(<Palpatine />, document.getElementById('palpatine'));
      ReactDOM.render(<Dooku />, document.getElementById('dooku'));
	  ReactDOM.render(<Qui />, document.getElementById('qui1'));
 </script>
  </body>
</html>
